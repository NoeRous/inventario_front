<p-dataview
  #dv
  [value]="productList"
  [layout]="layout"
  [rows]="4"
  [paginator]="true"
>

  <!-- ================= HEADER ================= -->
  <ng-template #header>
    <div class="flex justify-end">
      <p-selectbutton
        [(ngModel)]="layout"
        [options]="options"
        [allowEmpty]="false"
      >
        <ng-template #item let-item>
          <i
            class="pi"
            [ngClass]="{
              'pi-bars': item === 'list',
              'pi-table': item === 'grid'
            }"
          ></i>
        </ng-template>
      </p-selectbutton>
    </div>
  </ng-template>

  <!-- ================= LIST VIEW ================= -->
  <ng-template #list let-items>
    <div *ngFor="let item of items; let first = first">
      <div
        class="flex flex-col sm:flex-row p-6 gap-4"
        [ngClass]="{
          'border-t border-surface-200 dark:border-surface-700': !first
        }"
      >
        <!-- IMAGE -->
        <div class="sm:w-40 relative">
          <img
            class="rounded w-full"
            [src]="getImageUrl(item.image)"
            [alt]="item.name"
          />

          <p-tag
            [value]="item.inventoryState"
           
            class="absolute top-1 left-1"
          />
        </div>

        <!-- INFO -->
        <div class="flex flex-col sm:flex-row justify-between flex-1 gap-6">
          <div>
            <span class="text-sm text-surface-500">
              {{ item.category }}
            </span>
            <h3 class="text-lg font-medium mt-1">
              {{ item.name }}
            </h3>
            <p class="text-sm text-surface-500">
              {{ item.description }}
            </p>
          </div>

          <div class="flex flex-col items-end gap-3">
            <span class="text-xl font-semibold">
              {{ item.price | currency:'Bs. ' }}
            </span>

            <div class="flex gap-2">
              <button pButton icon="pi pi-heart" outlined></button>
              <button
                pButton
                icon="pi pi-shopping-cart"
                label="Buy"
                [disabled]="item.inventoryState === 'OUT_OF_STOCK'"
              ></button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </ng-template>

  <!-- ================= GRID VIEW ================= -->
  <ng-template #grid let-items>
    <div class="w-full box-border px-2">
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4">

        <div *ngFor="let product of items" class="w-full">
          <div
            class="h-full p-4 border border-surface-200 dark:border-surface-700
                   bg-surface-0 dark:bg-surface-900 rounded flex flex-col"
          >

            <!-- IMAGE -->
            <div class="relative bg-surface-50 rounded p-4 flex justify-center">
              <img
                class="rounded max-h-40 object-contain"
                [src]="getImageUrl(product.image)"
                [alt]="product.name"
              />

              <p-tag
                [value]="product.inventoryState"
               
                class="absolute top-1 left-1"
              />
            </div>

            <!-- CONTENT -->
            <div class="flex flex-col flex-1 pt-4">
               <span class="text-sm text-surface-500">
                {{ product.category }}
              </span>
              <h3 class="text-base font-medium mt-1">
                {{ product.name }}
              </h3>

              <span class="text-lg font-semibold mt-3">
                {{ product.price | currency:'Bs. ' }}
              </span>

              <!-- ACTIONS -->
              <div class="mt-auto flex gap-2 pt-4">
                <button
                  pButton
                  icon="pi pi-shopping-cart"
                  label="Buy"
                  class="flex-1"
                  [disabled]="product.inventoryState === 'OUT_OF_STOCK'"
                ></button>

                <button pButton icon="pi pi-heart" outlined></button>
              </div>
            </div>

          </div>
        </div>

      </div>
    </div>
  </ng-template>

</p-dataview>
